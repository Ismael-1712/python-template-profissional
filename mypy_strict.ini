# Configuração ESTRITA de Mypy para auditoria
# State of the Art - Sprint 4

[mypy]
python_version = 3.10

# ===== RIGOR DE TIPAGEM =====
# Exige que todas as funções tenham anotações de tipo
disallow_untyped_defs = true
disallow_incomplete_defs = true
check_untyped_defs = true

# Não permite any implícito
disallow_any_unimported = true
disallow_any_expr = false  # Muito restritivo, ativamos depois
disallow_any_decorated = false  # Muito restritivo, ativamos depois
disallow_any_explicit = false  # Permite Any explícito
disallow_any_generics = true

# Não permite subclassing de Any
disallow_subclassing_any = true

# ===== WARNINGS SOBRE TYPES =====
warn_return_any = true
warn_unused_configs = true
warn_redundant_casts = true
warn_unused_ignores = true
warn_no_return = true
warn_unreachable = true

# ===== CONTROLE DE NONE =====
no_implicit_optional = true
strict_optional = true

# ===== IMPORTS =====
# Não ignora imports faltantes - força stubs
ignore_missing_imports = false
# Segue imports para checar dependências
follow_imports = normal
follow_imports_for_stubs = true

# ===== ERROS ESTRITOS =====
# Trata warnings como erros
warn_incomplete_stub = true
disallow_untyped_calls = true
disallow_untyped_decorators = true

# ===== MISC =====
strict_equality = true
strict_concatenate = true

# Exclui pastas de teste e virtuais
exclude = tests/|venv/|\.venv/|build/|dist/

# ===== MODO ESTRITO GLOBAL =====
# Equivalente a habilitar TODAS as flags acima
# strict = true
